{% extends "project_descriptors.html" %}

{% load staticfiles %}

{% block head_block %}
  	{{ block.super }}

{% endblock %}
{% block title_header_big %}
    {{ block.super }}
  {% ifequal descriptor_type 'nsd' %}
      NS
  {% else%}
    VNF
  {% endifequal %} Descriptors
{% endblock %}
{% block left_sidebar %}
    {% include 'etsi/etsi_project_left_sidebar.html' %}
{% endblock %}

{% block breadcrumb_body %}
  	{{ block.super }}
    <li><a href="{% url 'projects:open_project' project_id=project_id %}">{{project_overview_data.name}}</a></li>
    <li><a>  {% ifequal descriptor_type 'nsd' %}
              NS
            {% else%}
            VNF
         {% endifequal %} Descriptors</a></li>

{% endblock %}

{% block content_body %}
  	{{ block.super }}

<div class="row">
    {% include "etsi/descriptor/descriptorlist.html" %}
</div>
{% endblock %}




{% block resource_block %}
  	{{ block.super }}

    <script>

function createNewDescriptor(project_id, descriptor_type){
    if(descriptor_type =='nsd'){
        $("#modal_chooser_new_descriptor_name").text("New NS Descriptor");
        $( "#input_choose_new_descriptor_name" ).val("ns_"+generateUID());
    }else{
        $("#modal_chooser_new_descriptor_name").text("New VNF Descriptor");
        $( "#input_choose_new_descriptor_name" ).val("vnf_"+generateUID());
    }
     $('#save_new_descriptor_name').off('click').on('click', function(){
        var descriptor_id = $( "#input_choose_new_descriptor_name" ).val();
        console.log(descriptor_id);
        window.location.href='/projects/' + project_id + '/descriptors/' + descriptor_type + '/new?id='+descriptor_id ;
    });
    $('#modal_new_descriptor_name').modal('show');


}

$(document).ready(function () {
    window.setTimeout(function() {
    $(".alert").fadeTo(500, 0).slideUp(500, function(){
        $(this).remove();
    });
}, 4000);

});



    </script>
{% endblock %}

